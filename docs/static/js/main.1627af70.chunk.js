(this["webpackJsonpauth-forms"]=this["webpackJsonpauth-forms"]||[]).push([[0],{36:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),s=n.n(a),i=n(14),o=(n(36),n(20)),u=n(3),l=n(1),j=function(e){var t=Object(u.f)(),n=Object(i.c)((function(e){return e.user.login}));return Object(c.useEffect)((function(){n||t.replace("/")}),[n,t]),Object(l.jsx)("div",{children:"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(n)})},b=n(13),d=n.n(b),p=n(17),f=n(10),h=(n(41),function(e){var t=e.value,n=e.onChange,r=e.placeholder,a=e.orderId,s=void 0===a?1:a,i=e.error,o=e.calssName,u=e.type,j=void 0===u?"text":u,b=Object(c.useState)(!1),d=Object(f.a)(b,2),p=d[0],h=d[1],O=Object(c.useState)(!1),v=Object(f.a)(O,2),m=v[0],x=v[1],g="input ".concat(s),_=t?"input__placeholder_filled":"",w=p?"input__placeholder_focus":"",S=i?"input__placeholder_error":"";return Object(l.jsxs)("div",{className:o,children:[Object(l.jsxs)("div",{onBlur:function(){return h(!1)},className:"input ".concat(p?"input_focus":""),children:[!!r&&Object(l.jsx)("label",{htmlFor:g,className:"input__placeholder ".concat(_," ").concat(w," ").concat(S),children:r}),Object(l.jsx)("input",{id:g,className:"input_custom ".concat(i?"input_error":""),value:t,onChange:function(e){return null===n||void 0===n?void 0:n(e.target.value)},onFocus:function(){return h(!0)},type:"password"!==j||m?"text":"password"}),!!t&&"password"===j&&Object(l.jsx)("label",{htmlFor:g,className:"input__postfix",onClick:function(){return x(!m)},children:m?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})]}),!!i&&Object(l.jsx)("div",{className:"input__error",children:i})]})}),O=(n(42),function(e){var t=e.title,n=e.onClick,c=e.type,r=void 0===c?"primary":c;return Object(l.jsx)("div",{tabIndex:0,className:"btn btn_".concat(r),onClick:n,children:Object(l.jsx)("span",{children:t})})}),v=n(46),m=n(47),x=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,c=t.password,r={login:n,password:c},e.next=4,fetch("http://ec2-18-117-84-227.us-east-2.compute.amazonaws.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:if(204!==e.sent.status){e.next=7;break}return e.abrupt("return",{login:n});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,c=t.password,r=t.email,a={login:n,password:c,email:r},e.next=4,fetch("http://ec2-18-117-84-227.us-east-2.compute.amazonaws.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if(204!==e.sent.status){e.next=7;break}return e.abrupt("return",{login:n});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=n(9),w={fetching:!1},S="REQUEST_AUTH",y="SET_AUTH",N="SET_AUTH_ERROR",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(_.a)(Object(_.a)({},e),{},{fetching:!0});case y:case N:return Object(_.a)(Object(_.a)({},e),{},{fetching:!1});default:return e}},E={login:"",fetching:!1},T="REQUEST_USER",k="SET_USER",R="SET_USER_ERROR",U=function(e){return{type:k,payload:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(_.a)(Object(_.a)({},e),{},{fetching:!0});case k:return Object(_.a)(Object(_.a)({},e),{},{fetching:!1,login:t.payload});case R:return Object(_.a)(Object(_.a)({},e),{},{fetching:!1,login:""});default:return e}},I=(n(43),function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)(""),j=Object(f.a)(o,2),b=j[0],_=j[1],w=Object(c.useState)(""),N=Object(f.a)(w,2),C=N[0],E=N[1],T=Object(c.useState)(""),k=Object(f.a)(T,2),R=k[0],F=k[1],I=Object(c.useState)(""),A=Object(f.a)(I,2),z=A[0],J=A[1],P=Object(c.useState)(""),B=Object(f.a)(P,2),D=B[0],H=B[1],L=Object(c.useState)(""),Q=Object(f.a)(L,2),Z=Q[0],M=Q[1],W=r.a.useRef(null),$=Object(u.f)(),q=Object(i.b)(),G=Object(i.c)((function(e){return e.user.login}));Object(c.useEffect)((function(){G&&$.replace("/main")}),[G,$]);var K=function(){var e=function(e){return e.length<4?"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":""}(b),t=function(e){return e.length<6?"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":""}(C),n=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())?"":"\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email "}(R);return M(n),J(e),H(t),a?!e&&!t&&!n:!e&&!t},V=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K()){e.next=15;break}if(q({type:S}),!a){e.next=9;break}return e.next=6,g({login:b,password:C,email:R});case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,x({login:b,password:C});case 11:e.t0=e.sent;case 12:t=e.t0,q({type:y}),t.login&&q(U(t.login));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"auth-view",children:Object(l.jsx)("div",{className:"auth-view__content",children:Object(l.jsx)(v.a,{mode:"out-in",children:Object(l.jsx)(m.a,{nodeRef:W,in:!0,timeout:250,classNames:"fade",children:Object(l.jsxs)("form",{ref:W,onSubmit:function(e){return function(e){e.preventDefault(),V()}(e)},children:[Object(l.jsx)("input",{className:"auth-view__submit",type:"submit",value:""}),Object(l.jsx)("div",{className:"auth-view__title",children:a?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u0445\u043e\u0434"}),Object(l.jsx)(h,{orderId:1,calssName:"auth-view__input_".concat(z?"error":"default"),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",value:b,error:z,onChange:function(e){_(e),J("")}}),Object(l.jsx)(h,{orderId:2,calssName:"auth-view__input_".concat(D?"error":"default"),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",value:C,error:D,onChange:function(e){E(e),H("")}}),a&&Object(l.jsx)(h,{orderId:3,calssName:"auth-view__input_".concat(Z?"error":"default"),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",value:R,error:Z,onChange:function(e){F(e),M("")}}),Object(l.jsx)(O,{title:a?"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c":"\u0412\u043e\u0439\u0442\u0438",onClick:V}),Object(l.jsx)(O,{title:a?"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",type:"secondary",onClick:function(){s(!a),_(""),E(""),F(""),M(""),J(""),H("")}})]})},Number(a))})})})});var A=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{path:"/main",children:Object(l.jsx)(j,{})}),Object(l.jsx)(u.a,{path:"/",children:Object(l.jsx)(I,{})})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},J=n(22),P=n(27),B=Object(J.combineReducers)({auth:C,user:F}),D=Object(J.createStore)(B,Object(P.composeWithDevTools)());s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(i.a,{store:D,children:Object(l.jsx)(A,{})})}),document.getElementById("root")),z()}},[[44,1,2]]]);
//# sourceMappingURL=main.1627af70.chunk.js.map